/* ---------- Tailwind base ---------- */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ---------- App base ---------- */
@layer base {
  :root {
    /* Farge-variabler (enkle å tune) */
    --bg-from: #0b1220; /* slate-900-ish */
    --bg-via: #0f172a; /* slate-900 */
    --bg-to: #0b1220;

    --grad-1: #ec4899; /* pink-500 */
    --grad-2: #a855f7; /* purple-500 */
    --grad-3: #7c3aed; /* violet-600 */

    --accent-1: #38bdf8; /* sky-400 */
    --accent-2: #6366f1; /* indigo-500 */

    --card-bg: rgba(30, 41, 59, 0.7); /* slate-800/70 */
    --card-br: #334155; /* slate-700 */
  }

  html,
  body {
    height: 100%;
  }
  body {
    @apply antialiased text-slate-100;
    background: radial-gradient(
        1200px 600px at 50% -10%,
        color-mix(in oklab, var(--grad-2) 10%, transparent) 0%,
        transparent 60%
      ),
      linear-gradient(135deg, var(--bg-from), var(--bg-via) 50%, var(--bg-to));
  }

  /* Optional bakgrunnsbilde over gradient – legg på .bg-scene på en wrapper */
  .bg-scene {
    position: relative;
    isolation: isolate;
  }
  .bg-scene::before {
    content: '';
    position: absolute;
    inset: 0;
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    opacity: 0.28;
    filter: saturate(1.15);
    z-index: -2;
  }
  /* Sett bilde via inline style: style="--scene:url('/assets/scene.jpg')" */
  .bg-scene::before {
    background-image: var(--scene, none);
  }
  .bg-scene::after {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(
      900px 400px at 50% 0%,
      color-mix(in oklab, var(--grad-1) 12%, transparent) 0%,
      transparent 60%
    );
    z-index: -1;
  }
}

/* ---------- Components ---------- */
@layer components {
  /* Layout helpers */
  .container {
    @apply max-w-5xl mx-auto px-4;
  }
  .step {
    @apply min-h-screen flex flex-col items-center justify-center gap-8 text-center;
  }
  .title {
    @apply text-3xl sm:text-4xl md:text-5xl font-bold drop-shadow;
  }
  .subtitle {
    @apply text-sm opacity-80;
  }

  /* Kort / panel */
  .card {
    @apply rounded-2xl p-6 shadow-lg border;
    background: var(--card-bg);
    border-color: var(--card-br);
    backdrop-filter: blur(6px);
  }

  /* Primær knapp (stor, runde “capsule”-kanter – wizard-stil) */
  .btn {
    @apply inline-flex items-center justify-center gap-2
           font-semibold rounded-xl px-6 py-3 select-none
           border border-white/10 transition;
    background-image: linear-gradient(90deg, var(--grad-1), var(--grad-2), var(--grad-3));
    color: white;
    box-shadow: 0 6px 20px rgba(124, 58, 237, 0.25);
  }
  .btn:hover {
    @apply opacity-90;
  }
  .btn:active {
    transform: translateY(1px) scale(0.99);
  }
  .btn:focus {
    @apply outline-none ring-2 ring-pink-400/40;
  }

  /* Sekundær knapp (hul) */
  .btn-outline {
    @apply inline-flex items-center justify-center gap-2 rounded-xl px-6 py-3 font-semibold
           border border-slate-600/70 text-slate-100/90 transition;
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.04), rgba(255, 255, 255, 0.02));
  }
  .btn-outline:hover {
    @apply border-slate-400/70 text-white;
  }
  .btn-sm {
    @apply px-4 py-2 text-sm rounded-lg;
  }

  /* Wizard “chips” – store runde valgknapper */
  .chip {
    @apply px-7 py-3 rounded-2xl text-sm sm:text-base font-semibold text-white cursor-pointer
           border border-white/10 transition select-none;
    background-image: linear-gradient(90deg, var(--accent-1), var(--accent-2));
    box-shadow: 0 4px 16px rgba(99, 102, 241, 0.25);
  }
  .chip:hover {
    @apply opacity-90;
  }
  .chip:focus {
    @apply outline-none ring-2 ring-sky-300/40;
  }
  .chip[aria-pressed='true'],
  .chip[data-on='true'] {
    background-image: linear-gradient(90deg, var(--grad-1), var(--grad-2));
    @apply border-pink-300/30;
  }
  .chip-group {
    @apply flex flex-wrap items-center justify-center gap-4;
  }

  /* Inputs / felt (til senere steg) */
  .field {
    @apply text-left space-y-1;
  }
  .label {
    @apply text-xs uppercase tracking-wide opacity-70;
  }
  .input {
    @apply w-full rounded-xl bg-slate-900/70 border border-slate-700 px-3 py-2
           outline-none focus:ring-2 focus:ring-sky-400/30;
  }

  /* Gave-kort */
  .gift-card {
    @apply card grid grid-cols-[96px,1fr] gap-4 items-center;
  }
  .gift-thumb {
    @apply w-24 h-24 rounded-xl overflow-hidden border border-slate-700 bg-slate-900;
  }
  .gift-title {
    @apply text-lg font-semibold;
  }
  .gift-tags {
    @apply flex flex-wrap gap-2 mt-2;
  }
  .badge {
    @apply text-[11px] px-2 py-1 rounded-lg border border-slate-600 bg-slate-800/80;
  }
  .price {
    @apply mt-2 font-medium;
  }

  /* Progress (Step X of Y) */
  .progress-wrap {
    @apply w-full max-w-xl mx-auto px-6;
  }
  .progress-rail {
    @apply h-2 rounded-full bg-slate-700/60 overflow-hidden;
  }
  .progress-bar {
    @apply h-full bg-gradient-to-r from-pink-500 via-fuchsia-500 to-purple-600;
    width: var(--p, 33%);
  }

  /* Deling / tomtilfeller */
  .empty {
    @apply opacity-70 text-sm text-center;
  }
}

/* ---------- Utilities ---------- */
@layer utilities {
  .center {
    @apply flex items-center justify-center;
  }
  .grid-auto {
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  }
  .shadow-soft {
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.25);
  }
}
