/* ---------- Tailwind base ---------- */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ---------- App base (Theme: Neo-Ink) ---------- */
@layer base {
  :root {
    --bg-from: #07111a; /* dyp blekk-blå */
    --bg-via: #0a1622;
    --bg-to: #07111a;

    --ink-1: #0b2030;
    --ink-2: #0e2638;

    /* Ny primærgradient: teal -> cyan -> azure */
    --grad-1: #14b8a6; /* teal-500 */
    --grad-2: #06b6d4; /* cyan-500 */
    --grad-3: #3b82f6; /* blue-500 */

    /* Sekundær: amber highlight */
    --accent-1: #f59e0b; /* amber-500 */
    --accent-2: #f97316; /* orange-500 */

    --card-bg: color-mix(in oklab, var(--ink-2) 84%, transparent);
    --card-br: #1f2b3a;
  }

  html,
  body {
    height: 100%;
  }
  body {
    @apply antialiased text-slate-100;
    background: radial-gradient(
        900px 400px at 10% 0%,
        color-mix(in oklab, var(--grad-2) 12%, transparent) 0%,
        transparent 60%
      ),
      radial-gradient(
        1000px 500px at 90% 10%,
        color-mix(in oklab, var(--accent-1) 10%, transparent) 0%,
        transparent 60%
      ),
      linear-gradient(135deg, var(--bg-from), var(--bg-via) 50%, var(--bg-to));
  }

  /* Diskré grid-overlay for dybde */
  .bg-grid {
    position: relative;
    isolation: isolate;
  }
  .bg-grid::after {
    content: '';
    position: absolute;
    inset: 0;
    pointer-events: none;
    background-image: linear-gradient(to right, rgba(255, 255, 255, 0.04) 1px, transparent 1px),
      linear-gradient(to bottom, rgba(255, 255, 255, 0.04) 1px, transparent 1px);
    background-size: 40px 40px;
    mask-image: radial-gradient(600px 600px at 50% 20%, black 40%, transparent 80%);
    z-index: -1;
  }

  /* Svak “noise” for film-look */
  .noise::before {
    content: '';
    position: fixed;
    inset: -100px;
    z-index: -2;
    pointer-events: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' opacity='0.04'%3E%3Cfilter id='n'%3E%3CfeTurbulence baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3CfeColorMatrix values='0 0 0 0 0  0 0 0 0 0  0 0 0 0 0  0 0 0 1 0'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
    background-size: 300px 300px;
  }
}

/* ---------- Components ---------- */
@layer components {
  /* Layout */
  .container {
    @apply max-w-5xl px-4 mx-auto;
  }
  .step {
    @apply flex flex-col items-center justify-center min-h-screen gap-10 text-center;
  }
  .title {
    @apply text-3xl font-extrabold tracking-tight sm:text-4xl md:text-5xl drop-shadow;
  }
  .subtitle {
    @apply text-sm opacity-80;
  }

  /* Kort */
  .card {
    @apply p-6 border shadow-lg rounded-2xl backdrop-blur-md;
    background: var(--card-bg);
    border-color: var(--card-br);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.35), 0 0 0 1px rgba(255, 255, 255, 0.02) inset;
  }

  /* Primær knapp – teal/cyan/blue */
  .btn {
    @apply relative inline-flex items-center justify-center gap-2 px-6 py-3 font-semibold transition border select-none rounded-2xl;
    border-color: rgba(255, 255, 255, 0.08);
    color: white;
    background-image: linear-gradient(90deg, var(--grad-1), var(--grad-2), var(--grad-3));
    box-shadow: 0 8px 24px rgba(14, 165, 233, 0.25);
  }
  .btn:hover {
    @apply opacity-95;
  }
  .btn:active {
    transform: translateY(1px) scale(0.99);
  }
  .btn:focus {
    @apply outline-none ring-2 ring-cyan-400/30;
  }
  .btn-sm {
    @apply px-4 py-2 text-sm rounded-xl;
  }

  /* Sekundær (outline glass) */
  .btn-outline {
    @apply inline-flex items-center justify-center gap-2 px-6 py-3 font-semibold transition border rounded-2xl text-slate-100/90;
    border-color: rgba(255, 255, 255, 0.12);
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.04), rgba(255, 255, 255, 0.02));
  }
  .btn-outline:hover {
    @apply text-white border-cyan-300/50;
  }

  /* Wizard chips – amber glow ved aktiv */
  .chip {
    @apply py-3 text-sm font-semibold text-white transition border cursor-pointer select-none px-7 rounded-2xl sm:text-base;
    background-image: linear-gradient(90deg, var(--grad-2), var(--grad-3));
    border-color: rgba(255, 255, 255, 0.08);
    box-shadow: 0 6px 18px rgba(59, 130, 246, 0.22);
  }
  .chip:hover {
    @apply opacity-95;
  }
  .chip:focus {
    @apply outline-none ring-2 ring-cyan-300/40;
  }
  .chip[aria-pressed='true'],
  .chip[data-on='true'] {
    background-image: linear-gradient(90deg, var(--accent-1), var(--accent-2));
    box-shadow: 0 8px 22px rgba(245, 158, 11, 0.28);
    border-color: rgba(255, 255, 255, 0.16);
  }
  .chip-group {
    @apply flex flex-wrap items-center justify-center gap-4;
  }

  /* Inputs (til senere) */
  .field {
    @apply space-y-1 text-left;
  }
  .label {
    @apply text-xs tracking-wide uppercase opacity-70;
  }
  .input {
    @apply w-full px-3 py-2 border outline-none rounded-xl bg-slate-900/70 border-slate-700 focus:ring-2 focus:ring-cyan-400/30;
  }

  /* Gift card */
  .gift-card {
    @apply card grid grid-cols-[96px,1fr] gap-4 items-center;
  }
  .gift-thumb {
    @apply w-24 h-24 overflow-hidden border rounded-xl bg-slate-900;
    border-color: rgba(255, 255, 255, 0.1);
    box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.02);
  }
  .gift-title {
    @apply text-lg font-semibold;
  }
  .gift-tags {
    @apply flex flex-wrap gap-2 mt-2;
  }
  .badge {
    @apply text-[11px] px-2 py-1 rounded-lg border bg-slate-800/80;
    border-color: rgba(255, 255, 255, 0.12);
  }
  .price {
    @apply mt-2 font-medium;
  }

  /* Progress */
  .progress-wrap {
    @apply w-full max-w-xl px-6 mx-auto;
  }
  .progress-rail {
    @apply h-2 overflow-hidden rounded-full bg-slate-700/50;
  }
  .progress-bar {
    @apply h-full;
    background-image: linear-gradient(90deg, var(--accent-1), var(--grad-2), var(--grad-3));
    width: var(--p, 33%);
  }

  /* Empty */
  .empty {
    @apply text-sm text-center opacity-70;
  }
}

/* ---------- Utilities ---------- */
@layer utilities {
  .center {
    @apply flex items-center justify-center;
  }
  .grid-auto {
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  }
  .shadow-soft {
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.28);
  }
}
/* fullscreen, fixed, ingen gjentakelse */
.bgv {
  position: fixed;
  inset: 0;
  z-index: -1;
  overflow: hidden;
}

.bgv__vid {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover; /* fyll uten å strekke */
  object-position: center;
}

.bgv__overlay {
  position: absolute;
  inset: 0;
  pointer-events: none;
  /* svak vignett/gradient for lesbarhet – juster/ta bort om du vil */
  background: radial-gradient(1200px 600px at 50% -10%, rgba(12, 18, 32, 0.25), transparent 60%),
    linear-gradient(
      180deg,
      rgba(11, 18, 32, 0.45),
      rgba(11, 18, 32, 0.35) 60%,
      rgba(11, 18, 32, 0.45)
    );
}
